const assert = require('assert');
const fs = require('fs');
const path = require('path');
const processor = require('..');

it('should have title, date, html', function (done) {
	fs.readFile(path.join(__dirname, 'test.html'), (error, buffer) => {
		if (error) {
			done(error);
		} else {
			processor(buffer).then((data) => {
				assert.deepEqual(data, {
					title: 'Character',
					date: new Date('2016-05-01T00:00:00Z'),
					html: '<h2>Inkling</h2>\n<h2>Octoling</h2>\n'
				});
				done();
			}, done);
		}
	});
});
